version: '3.8'

services:
  flyshadow-agent:
    image: ghcr.io/sebastian0619/flyshadow-agent:latest
    container_name: flyshadow-agent
    network_mode: host
    restart: unless-stopped
    environment:
      # Agent配置 - 通过脚本交互式输入
      - AGENT_PASSWORD=${AGENT_PASSWORD}
      - AGENT_NODE_ID=${AGENT_NODE_ID}
    volumes:
      # 配置文件挂载到程序期望的路径
      - ./config.yaml:/etc/flyshadow/config.yaml:ro 